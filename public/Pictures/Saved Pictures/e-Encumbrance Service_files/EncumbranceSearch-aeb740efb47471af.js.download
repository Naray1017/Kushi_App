(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[282],{4538:function(e,a,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/EncumbranceSearch",function(){return l(6232)}])},6232:function(e,a,l){"use strict";l.r(a);var n=l(5893),r=l(9008),t=l.n(r),i=l(1163),d=l(7294),s=l(3680),o=l(1555),c=l(682),u=l(2914),h=l(4051),m=l(2690),x=l(7383),p=l(6718),g=l.n(p),v=l(5675),b=l.n(v),S=l(5294),j=l(3043),N=l(1214),C=l(8897);a.default=()=>{let e=(0,i.useRouter)(),[a,l]=(0,d.useState)({}),[r,p]=(0,d.useState)(!1),[v,Z]=(0,d.useState)(!1),[y,O]=(0,d.useState)(!0),[q,f]=(0,d.useState)(!0),[F,E]=(0,d.useState)(!1),[L,R]=(0,d.useState)([]),[T,D]=(0,d.useState)([]),[A,k]=(0,d.useState)(!1),[M,V]=(0,d.useState)(""),[B,P]=(0,d.useState)(""),[_,Y]=(0,d.useState)(""),[w,W]=(0,d.useState)(),redirectToPage=(a,l)=>{e.push({pathname:a,query:l})},handleMenuOpen=e=>{Z(e)},getCaptchaCode=()=>{(0,N.gb)(!0),W({...w,captchaVal:""});let e="EC"+new Date().getTime();(0,j.an)(e).then(a=>{if(null==a?void 0:a.status){let l=a.data.split("--");2==l.length&&l[1]==e?(Y(a.data),V(l[0])):(0,N.mF)(!1,"Unauthorized Access.","")}else console.error(null==a?void 0:a.message);(0,N.gb)(!1)}).catch(e=>console.error(e))};(0,d.useEffect)(()=>{!1==A&&getCaptchaCode()},[A]),(0,d.useEffect)(()=>{if(void 0===w){let e;if("Yes"==localStorage.getItem("isFromSRO")){let a=localStorage.getItem("loginDetails");if(null!=a&&void 0!=a&&void 0===w){let n=JSON.parse(a);l(n),e=null==n?void 0:n.DR_CD}}getDistrictList(e)}},[w]);let getDatesFromServer=(e,a,l)=>{(0,N.gb)(!0),(0,j.t8)(e).then(e=>{if(null==e?void 0:e.status){let n=e.data;W({...w,periodOfSearchFrom:n.fromDate,periodOfSearchTo:n.toDate,propertyType:"BS",[a]:l}),P(n.toDate)}else console.error(null==e?void 0:e.message);(0,N.gb)(!1)})},getDistrictList=e=>{(0,N.gb)(!0),(0,j.ae)(e).then(e=>{(null==e?void 0:e.status)?(R(e.data),D([])):console.error(null==e?void 0:e.message),(0,N.gb)(!1)}).catch(e=>console.error(e))},encumbranceSearchOnChange=(e,a)=>{let l={...w};if("district"!==a&&"searchSRO"!==a){let{name:a,value:n}=e.target;if("captchaVal"===a)W({...l,[a]:n,userKey:_});else if("propertyType"===a){let e=!1;f(!1),E(!0),"BS"==n&&(e=!0,f(!0),E(!1)),e!=y&&W({[a]:n,district:l.district,searchSRO:l.searchSRO,applicantName:l.applicantName,periodOfSearchFrom:l.periodOfSearchFrom,periodOfSearchTo:l.periodOfSearchTo,captchaVal:l.captchaVal,userKey:l.userKey,plotOrBiNo:"",inSurveyNo:"",revenueVillage:"",revenueAlias:"",boundedEast:l.boundedEast,boundedWest:l.boundedWest,boundedNorth:l.boundedNorth,boundedSouth:l.boundedSouth,boundedExtent:l.boundedExtent,boundedType:l.boundedType,builtUpSqFt:l.builtUpSqFt,flatNo:"",houseNo:"",apartmentName:"",wardNo:"",blockNo:"",villageOrCity:"",alias:""}),O(e)}else W({...l,[a]:n})}else if("district"==a)D([]),(null==e?void 0:e.drcode)!=void 0&&(null==e?void 0:e.drcode)!=null&&getSROListByDRCode(null==e?void 0:e.drcode),W({...l,[a]:e,searchSRO:[]});else{if(e&&(null==e?void 0:e.length)>3)return(0,N.mF)(!1,"Maximum SRO's selected","");if(console.log("searchSRO ::::: ",null==l?void 0:l.searchSRO),console.log("e ::::: ",e),e.length>0){var n,r;getDatesFromServer(null===(r=e[0])||void 0===r?void 0:null===(n=r.srcd)||void 0===n?void 0:n.toString(),a,e)}else W({...l,[a]:e})}},getSROListByDRCode=e=>{(0,N.gb)(!0),(0,j.j_)(e,void 0).then(e=>{(null==e?void 0:e.status)?D(e.data):(0,N.mF)(!1,null==e?void 0:e.message,""),(0,N.gb)(!1)}).catch(e=>{console.error(e),(0,N.gb)(!1)})},validateFormDetails=()=>{let e=!0;try{var a,l;let n={...w};if((null==n?void 0:n.searchSRO)&&(null==n?void 0:n.searchSRO.length)==0)return(0,N.mF)(!1,"Mandatory field values are required.",""),!1;let r=!1,t=!1,i=!1,d=!1,s=!1,o=!1;((null==n?void 0:n.houseNo)==void 0||(null==n?void 0:n.houseNo.length)==0)&&(r=!0),((null==n?void 0:n.apartmentName)==void 0||(null==n?void 0:n.apartmentName.length)==0)&&(t=!0),((null==n?void 0:n.villageOrCity)==void 0||(null==n?void 0:n.villageOrCity.length)==0)&&(i=!0),((null==n?void 0:n.plotOrBiNo)==void 0||(null==n?void 0:n.plotOrBiNo.length)==0)&&(d=!0),((null==n?void 0:n.inSurveyNo)==void 0||(null==n?void 0:n.inSurveyNo.length)==0)&&(s=!0),((null==n?void 0:n.revenueVillage)==void 0||(null==n?void 0:n.revenueVillage.length)==0)&&(o=!0),r&&t&&i&&d&&s&&o?((0,N.mF)(!1,"Buildings/Structures or Sites/Agricultural Lands values are required.",""),e=!1):r&&t&&i&&s||(null==n?void 0:n.propertyType)!="BS"?d&&s&&o||(d&&s||!o?!o&&d&&s&&((0,N.mF)(!1,"Plot No. or Survey No(s) value is required.",""),e=!1):((0,N.mF)(!1,"Revenue Village value is required.",""),e=!1)):r&&t||!i?!i&&r&&t&&((0,N.mF)(!1,"House No. or Apartment value is required.",""),e=!1):((0,N.mF)(!1,"Village/City value is required.",""),e=!1),((null==n?void 0:n.captchaVal)==void 0||(null==n?void 0:null===(a=n.captchaVal)||void 0===a?void 0:a.trim().length)==0)&&((0,N.mF)(!1,"Captcha Required",""),e=!1),(null==n?void 0:n.captchaVal)!=void 0&&(null==n?void 0:null===(l=n.captchaVal)||void 0===l?void 0:l.trim().length)>0&&(null==n?void 0:n.captchaVal)!=M&&((0,N.mF)(!1,"Invalid Captcha",""),e=!1)}catch(e){return(0,N.mF)(!1,e.message,""),!1}return e};return(0,n.jsxs)("div",{children:[(0,n.jsxs)(t(),{children:[(0,n.jsx)("title",{children:"e-Encumbrance Service | Search"}),(0,n.jsx)("link",{rel:"icon",href:"/ecSearch/images/aplogo.png"})]}),(null==a?void 0:a.EMPL_NAME)!=void 0&&(null==a?void 0:a.EMPL_NAME)!=null?(0,n.jsxs)("div",{className:g().Navbar,children:[(0,n.jsx)("text",{className:g().NavbarLink,children:(0,n.jsx)(b(),{width:30,height:25,src:"/ecSearch/images/homeIcon.svg",alt:"homeicon",onClick:()=>e.push("https://card2.rs.ap.gov.in/card/"+(null==a?void 0:a.RETURN_PATH))})}),(0,n.jsxs)("text",{className:g().NavbarText,children:[" Welcome : ",null==a?void 0:a.EMPL_NAME]}),(0,n.jsx)("div",{style:{cursor:"pointer"},onClick:()=>{localStorage.clear(),e.push("https://card2.rs.ap.gov.in/card")},children:(0,n.jsx)("text",{className:g().NavbarText,children:" Logout "})})]}):(0,n.jsxs)("div",{className:g().Navbar,children:[(0,n.jsx)("text",{className:g().NavbarLink,children:(0,n.jsx)(b(),{width:30,height:25,src:"/ecSearch/images/homeIcon.svg",alt:"homeicon",onClick:()=>e.push("https://registration.ec.ap.gov.in/ecSearch")})}),(0,n.jsx)("text",{className:g().NavbarText,children:"\xa0"}),(0,n.jsx)("text",{className:g().NavbarText,children:"\xa0"})]}),(0,n.jsx)("div",{className:"MainContent",children:(0,n.jsx)("div",{className:g().Forms_RegistrationMain,style:{margin:"12px 0"},children:A?(0,n.jsx)(C.default,{propertyDetails:void 0,fieldValues:w,SROList:void 0,validationViewItemDetails:void 0,setToggleValidationView:k,sourceFrom:"EncumbranceSearch"}):(0,n.jsx)(c.Z,{children:(0,n.jsxs)(u.Z,{noValidate:!0,autoComplete:"off",validated:r,onSubmit:e=>{let a=e.currentTarget;!1===a.checkValidity()?(e.preventDefault(),e.stopPropagation(),(0,N.mF)(!1,"Mandatory field values are required.","")):((0,N.gb)(!0),e.preventDefault(),validateFormDetails()?k(!0):(0,N.gb)(!1)),p(!0)},children:[(0,n.jsxs)(h.Z,{className:"p",children:[(0,n.jsxs)(o.Z,{md:4,children:[(0,n.jsx)(x.Z,{label:"Select District",required:!0}),(0,n.jsx)(S.ZP,{className:(null==w?void 0:w.district)||!v?"SelectWidget":"SelectWidget red-outline",required:!0,name:"district",value:null==w?void 0:w.district,onChange:e=>encumbranceSearchOnChange(e,"district"),onMenuOpen:()=>handleMenuOpen(!0),onMenuClose:()=>handleMenuOpen(!1),classNamePrefix:"react-select",options:L,getOptionLabel:e=>e.drname,getOptionValue:e=>e.drcode,placeholder:"Registered at District",isClearable:!0}),(0,n.jsx)(u.Z.Control.Feedback,{type:"invalid",children:"Select District"})]}),(0,n.jsxs)(o.Z,{md:4,children:[(0,n.jsx)(x.Z,{label:"Select SRO's(Max 3)",required:!0}),(0,n.jsx)(S.ZP,{className:"SelectWidget",classNamePrefix:"react-select",options:T,getOptionLabel:e=>e.srname,getOptionValue:e=>e.srcd,name:"searchSRO",onChange:e=>encumbranceSearchOnChange(e,"searchSRO"),placeholder:"Select SRO's(Max 3)",value:null==w?void 0:w.searchSRO,menuPlacement:"bottom",isMulti:!0,isClearable:!0}),(0,n.jsx)(u.Z.Control.Feedback,{type:"invalid",children:"Select SRO"})]}),(0,n.jsxs)(o.Z,{md:4,children:[(0,n.jsx)(x.Z,{label:"Applicant Name",required:!0}),(0,n.jsx)(m.Z,{type:"text",placeholder:"Applicant Name",required:!0,disabled:!1,name:"applicantName",value:null==w?void 0:w.applicantName,onChange:encumbranceSearchOnChange,maxLength:60}),(0,n.jsx)(u.Z.Control.Feedback,{type:"invalid",children:"Enter Applicant Name"})]})]}),(0,n.jsx)(h.Z,{className:"p",children:(0,n.jsxs)(o.Z,{md:12,children:[(0,n.jsx)("h2",{className:"p-0",children:"Search By :"}),(0,n.jsx)(u.Z.Check,{inline:!0,label:"Building (OR) Structure Details",value:"BS",name:"propertyType",type:"radio",className:"mx-0",onChange:encumbranceSearchOnChange,checked:q}),(0,n.jsx)(u.Z.Check,{inline:!0,label:"Sites (OR) Agricultural Lands",value:"SAL",name:"propertyType",type:"radio",onChange:encumbranceSearchOnChange,style:{marginLeft:"2%"},checked:F})]})}),y?(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(h.Z,{className:"p",children:[(0,n.jsx)(o.Z,{md:12,children:(0,n.jsx)("h2",{className:"p-0",children:"Building (OR) Structure Details : "})}),(0,n.jsxs)(o.Z,{md:3,children:[(0,n.jsx)(x.Z,{label:"Flat No",required:!1}),(0,n.jsx)(m.Z,{type:"text",placeholder:"Flat No",required:!1,disabled:!1,name:"flatNo",value:null==w?void 0:w.flatNo,onChange:encumbranceSearchOnChange,maxLength:50})]}),(0,n.jsxs)(o.Z,{md:3,children:[(0,n.jsx)(x.Z,{label:"Apartment",required:!1}),(0,n.jsx)(m.Z,{type:"text",placeholder:"Apartment",required:!1,disabled:!1,name:"apartmentName",value:null==w?void 0:w.apartmentName,onChange:encumbranceSearchOnChange,maxLength:150})]}),(0,n.jsxs)(o.Z,{md:3,children:[(0,n.jsx)(x.Z,{label:"Plot No/Bi No",required:!1}),(0,n.jsx)(m.Z,{type:"text",placeholder:"Plot No/Bi No",required:!1,disabled:!1,name:"plotOrBiNo",value:null==w?void 0:w.plotOrBiNo,onChange:encumbranceSearchOnChange,maxLength:125})]}),(0,n.jsxs)(o.Z,{md:3,children:[(0,n.jsx)(x.Z,{label:"in Survey No(s)",required:!1}),(0,n.jsx)(m.Z,{type:"text",placeholder:"in Survey No(s)",required:!1,disabled:!1,name:"inSurveyNo",value:null==w?void 0:w.inSurveyNo,onChange:encumbranceSearchOnChange,maxLength:250})]}),(0,n.jsxs)(o.Z,{md:3,children:[(0,n.jsx)(x.Z,{label:"House No.",required:!1}),(0,n.jsx)(m.Z,{type:"text",placeholder:"House No",required:!1,disabled:!1,name:"houseNo",value:null==w?void 0:w.houseNo,onChange:encumbranceSearchOnChange,maxLength:125})]}),(0,n.jsxs)(o.Z,{md:1,children:[(0,n.jsx)(x.Z,{label:"Ward",required:!1}),(0,n.jsx)(m.Z,{type:"text",placeholder:"Ward",required:!1,disabled:!1,name:"wardNo",value:null==w?void 0:w.wardNo,onChange:encumbranceSearchOnChange,maxLength:4})]}),(0,n.jsxs)(o.Z,{md:2,children:[(0,n.jsx)(x.Z,{label:"Block",required:!1}),(0,n.jsx)(m.Z,{type:"text",placeholder:"Block",required:!1,disabled:!1,name:"blockNo",value:null==w?void 0:w.blockNo,onChange:encumbranceSearchOnChange,maxLength:4})]}),(0,n.jsxs)(o.Z,{md:3,children:[(0,n.jsx)(x.Z,{label:"Village/City",required:!1}),(0,n.jsx)(m.Z,{type:"text",placeholder:"Village/City",required:!1,disabled:!1,name:"villageOrCity",value:null==w?void 0:w.villageOrCity,onChange:encumbranceSearchOnChange})]}),(0,n.jsxs)(o.Z,{md:3,children:[(0,n.jsx)(x.Z,{label:"Alias",required:!1}),(0,n.jsx)(m.Z,{type:"text",placeholder:"Alias",required:!1,disabled:!1,name:"alias",value:null==w?void 0:w.alias,onChange:encumbranceSearchOnChange})]})]})}):(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(h.Z,{className:"p",children:[(0,n.jsx)(o.Z,{md:12,children:(0,n.jsx)("h2",{className:"p-0",children:"Sites (OR) Agricultural Lands : "})}),(0,n.jsxs)(o.Z,{md:3,children:[(0,n.jsx)(x.Z,{label:"Plot No/Bi No",required:!1}),(0,n.jsx)(m.Z,{type:"text",placeholder:"Plot No/Bi No",required:!1,disabled:!1,name:"plotOrBiNo",value:null==w?void 0:w.plotOrBiNo,onChange:encumbranceSearchOnChange,maxLength:125})]}),(0,n.jsxs)(o.Z,{md:3,children:[(0,n.jsx)(x.Z,{label:"in Survey No(s)",required:!1}),(0,n.jsx)(m.Z,{type:"text",placeholder:"in Survey No(s)",required:!1,disabled:!1,name:"inSurveyNo",value:null==w?void 0:w.inSurveyNo,onChange:encumbranceSearchOnChange,maxLength:250})]}),(0,n.jsxs)(o.Z,{md:3,children:[(0,n.jsx)(x.Z,{label:"Revenue Village",required:!1}),(0,n.jsx)(m.Z,{type:"text",placeholder:"Revenue Village",required:!1,disabled:!1,name:"revenueVillage",value:null==w?void 0:w.revenueVillage,onChange:encumbranceSearchOnChange})]}),(0,n.jsxs)(o.Z,{md:3,children:[(0,n.jsx)(x.Z,{label:"Alias",required:!1}),(0,n.jsx)(m.Z,{type:"text",placeholder:"Alias",required:!1,disabled:!1,name:"revenueAlias",value:null==w?void 0:w.revenueAlias,onChange:encumbranceSearchOnChange})]})]})}),(0,n.jsxs)(h.Z,{className:"p",children:[(0,n.jsx)(o.Z,{md:12,children:(0,n.jsx)("h2",{className:"p-0",children:"Bounded By"})}),(0,n.jsxs)(o.Z,{md:3,children:[(0,n.jsx)(x.Z,{label:"East",required:!1}),(0,n.jsx)(m.Z,{type:"text",placeholder:"East",required:!1,disabled:!1,name:"boundedEast",value:null==w?void 0:w.boundedEast,onChange:encumbranceSearchOnChange,maxLength:75})]}),(0,n.jsxs)(o.Z,{md:3,children:[(0,n.jsx)(x.Z,{label:"West",required:!1}),(0,n.jsx)(m.Z,{type:"text",placeholder:"West",required:!1,disabled:!1,name:"boundedWest",value:null==w?void 0:w.boundedWest,onChange:encumbranceSearchOnChange,maxLength:75})]}),(0,n.jsxs)(o.Z,{md:3,children:[(0,n.jsx)(x.Z,{label:"North",required:!1}),(0,n.jsx)(m.Z,{type:"text",placeholder:"North",required:!1,disabled:!1,name:"boundedNorth",value:null==w?void 0:w.boundedNorth,onChange:encumbranceSearchOnChange,maxLength:75})]}),(0,n.jsxs)(o.Z,{md:3,children:[(0,n.jsx)(x.Z,{label:"South",required:!1}),(0,n.jsx)(m.Z,{type:"text",placeholder:"South",required:!1,disabled:!1,name:"boundedSouth",value:null==w?void 0:w.boundedSouth,onChange:encumbranceSearchOnChange,maxLength:75})]}),(0,n.jsxs)(o.Z,{md:4,children:[(0,n.jsx)(x.Z,{label:"Extent",required:!1}),(0,n.jsx)(m.Z,{type:"text",placeholder:"Extent",required:!1,disabled:!1,name:"boundedExtent",value:null==w?void 0:w.boundedExtent,onChange:encumbranceSearchOnChange,maxLength:16})]}),(0,n.jsxs)(o.Z,{md:4,style:{display:"flex",alignItems:"center"},children:[(0,n.jsx)(u.Z.Check,{inline:!0,label:"SYd",value:"SYd",name:"boundedType",type:"radio",className:"mx-2",onChange:encumbranceSearchOnChange,defaultChecked:!0}),(0,n.jsx)(u.Z.Check,{inline:!0,label:"Acres",value:"Acres",name:"boundedType",type:"radio",onChange:encumbranceSearchOnChange})]}),(0,n.jsxs)(o.Z,{md:4,children:[(0,n.jsx)(x.Z,{label:"Built up",required:!1}),(0,n.jsx)(m.Z,{type:"text",placeholder:"Sq. Ft",required:!1,disabled:!1,name:"builtUpSqFt",value:null==w?void 0:w.builtUpSqFt,onChange:encumbranceSearchOnChange,maxLength:16})]})]}),(0,n.jsxs)(h.Z,{className:"p",children:[(0,n.jsx)(o.Z,{md:12,children:(0,n.jsx)("h2",{className:"p-0",children:"Search Period :"})}),(0,n.jsxs)(o.Z,{md:3,children:[(0,n.jsx)(x.Z,{label:"From (DD-MM-YYYY)",required:!0}),(0,n.jsx)(m.Z,{type:"date",placeholder:"DD-MM-YYYY",required:!0,disabled:!1,name:"periodOfSearchFrom",value:null==w?void 0:w.periodOfSearchFrom,onChange:encumbranceSearchOnChange,max:B}),(0,n.jsx)(u.Z.Control.Feedback,{type:"invalid",children:"Enter From Date"})]}),(0,n.jsxs)(o.Z,{md:3,children:[(0,n.jsx)(x.Z,{label:"To (DD-MM-YYYY)",required:!0}),(0,n.jsx)(m.Z,{type:"date",placeholder:"DD-MM-YYYY",required:!0,disabled:!1,name:"periodOfSearchTo",value:null==w?void 0:w.periodOfSearchTo,onChange:encumbranceSearchOnChange,max:B}),(0,n.jsx)(u.Z.Control.Feedback,{type:"invalid",children:"Enter To Date"})]}),(0,n.jsx)(o.Z,{lg:1,md:1,xs:1,style:{marginTop:"2.8%",paddingRight:"0px"},children:(0,n.jsx)(x.Z,{label:"CAPTCHA :",required:!1})}),(0,n.jsx)(o.Z,{lg:1,md:1,xs:1,style:{textAlign:"center",marginTop:"2.8%",padding:"0px"},children:(0,n.jsx)("span",{style:{font:"inherit",fontFamily:"cursive",padding:"8% 15%",color:"white",backgroundColor:"#03419c"},children:M})}),(0,n.jsx)(o.Z,{lg:1,md:1,xs:1,style:{marginTop:"2.8%"},children:(0,n.jsx)(b(),{alt:"Refresh Captcha",style:{cursor:"pointer"},width:25,height:25,src:"/ecSearch/images/reload.png",onClick:getCaptchaCode})}),(0,n.jsxs)(o.Z,{lg:3,md:3,xs:3,style:{marginTop:"2%"},children:[(0,n.jsx)(m.Z,{type:"text",maxLength:6,placeholder:"Enter CAPTCHA Here",required:!0,disabled:!1,name:"captchaVal",value:null==w?void 0:w.captchaVal,onChange:encumbranceSearchOnChange}),(0,n.jsx)(u.Z.Control.Feedback,{type:"invalid",children:"Enter CAPTCHA"})]})]}),(0,n.jsxs)("div",{style:{margin:"20px 0",textAlign:"center"},children:[(0,n.jsx)(s.Z,{variant:"primary",type:"submit",children:"Submit"}),(0,n.jsx)(s.Z,{variant:"secondary",style:{marginLeft:"10px"},onClick:()=>{(null==a?void 0:a.EMPL_NAME)!=void 0&&(null==a?void 0:a.EMPL_NAME)!=null?redirectToPage("/EDashboard"):redirectToPage("/")},children:"Back"})]})]})})})})]})}},9008:function(e,a,l){e.exports=l(9201)}},function(e){e.O(0,[885,550,551,465,6,774,888,179],function(){return e(e.s=4538)}),_N_E=e.O()}]);