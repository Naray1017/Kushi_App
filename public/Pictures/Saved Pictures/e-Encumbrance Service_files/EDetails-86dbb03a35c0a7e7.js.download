(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[746],{7547:function(e,l,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/EDetails",function(){return t(4415)}])},4415:function(e,l,t){"use strict";t.r(l);var n=t(5893),i=t(9008),a=t.n(i),s=t(1163),r=t(7294),d=t(3680),o=t(1555),c=t(682),h=t(2914),u=t(4051),x=t(5147),g=t(6893),m=t(5294),p=t(5675),v=t.n(p),j=t(3043),y=t(7031),N=t(2690),S=t(7383),C=t(4207),b=t(1214),O=t(6718),Z=t.n(O),f=t(8897);l.default=()=>{var e,l;let t=(0,s.useRouter)(),i=(0,b.CG)(e=>e.common.EncumbranceData),p=(0,b.CG)(e=>e.common.PropertyDetails),[O,M]=(0,r.useState)({}),[T,E]=(0,r.useState)(!1),[R,A]=(0,r.useState)(),[D,L]=(0,r.useState)(),[k,_]=(0,r.useState)(""),[P,w]=(0,r.useState)({}),[F,V]=(0,r.useState)(void 0),[I,q]=(0,r.useState)(""),[H,Y]=(0,r.useState)([]),[z,U]=(0,r.useState)(),[G,W]=(0,r.useState)(!1),[B,J]=(0,r.useState)([]),[X,K]=(0,r.useState)([]),[Q,$]=(0,r.useState)(!1),[ee,el]=(0,r.useState)(),[et,en]=(0,r.useState)(""),[ei,ea]=(0,r.useState)(""),redirectToPage=(e,l)=>{t.push({pathname:e,query:l})};(0,r.useEffect)(()=>{getCaptchaCode()},[]);let getCaptchaCode=()=>{(0,b.gb)(!0),U({...z,captchaVal:""});let e="EC"+new Date().getTime();(0,j.an)(e).then(l=>{if(null==l?void 0:l.status){let t=l.data.split("--");2==t.length&&t[1]==e?(ea(l.data),en(t[0])):(0,b.mF)(!1,"Unauthorized Access.","")}else console.error(null==l?void 0:l.message);(0,b.gb)(!1)}).catch(e=>console.error(e))};(0,r.useEffect)(()=>{var e;if("Yes"==localStorage.getItem("isFromSRO")){let e=localStorage.getItem("loginDetails");if(null!=e&&void 0!=e&&void 0===z){let l=JSON.parse(e);M(l);let t={type:"",docMemoNo:"",yearOfRegistration:"",registeredAtSRO:null==l?void 0:l.SR_CODE};getSROListItems(null==l?void 0:l.SR_CODE),U(t)}}else void 0!==i&&(null===(e=Object.keys(i))||void 0===e?void 0:e.length)!==0?void 0===z&&(getSROListItems(void 0),U({...i,captchaVal:""}),J(p),K(p)):redirectToPage("/Mainpage")},[i,z]);let getSROListItems=e=>{(0,b.gb)(!0),(0,j._T)(e).then(e=>{(null==e?void 0:e.status)?Y(e.data):console.error(null==e?void 0:e.message),(0,b.gb)(!1)}).catch(e=>console.error(e))},handleMenuOpen=e=>{W(e)},encumbranceSearchOnChange=(e,l)=>{let t={...z};if("registeredAtSRO"!==l){let{name:l,value:n}=e.target;"type"===l&&"None"===n&&redirectToPage("/EncumbranceSearch"),"type"===l&&(t.docMemoNo="",t.yearOfRegistration="",J([]),K([]),"Yes"!=localStorage.getItem("isFromSRO")&&(t.registeredAtSRO="")),"docMemoNo"===l&&(n=(n=n.slice(0,6)).replace(/[a-z]/gi,"")),"yearOfRegistration"===l&&(n=(n=(n=n.slice(0,4)).replace(/[a-z]/gi,"")).replace(/[^\w\s]/i,"")),U({...t,[l]:n})}else U({...t,[l]:e})},getPropertyDetailsData=e=>{(0,b.gb)(!0),(0,j.LF)({...e}).then(e=>{(null==e?void 0:e.status)?(J(null==e?void 0:e.data),K(null==e?void 0:e.data),(0,b.gb)(!1)):(getCaptchaCode(),(0,b.mF)(!1,null==e?void 0:e.message,""))}).catch(e=>console.error(e))},handleTipToggle=()=>{A(!R)},addMoreOnClick=(e,l,t)=>{(0,b.gb)(!0),_(e),V(t),w(l);q("hno"==e?l.hno:l.sy1),setTimeout(()=>{handleAddMore(),(0,b.gb)(!1)},150)},handleAddMore=()=>{L(!D)},updateAddMoreDetails=()=>{(0,b.gb)(!0);let e={...P},l=(null==X?void 0:X.propertyList)[F];if("hno"==k){let t=l.hno;I.trim().length>0?null==t||0==t.length||I.indexOf(t)>-1?e.hno=I:e.hno=t+","+I:0==I.trim().length&&(null==t||0==t.length)&&(e.hno=null)}else{let t=l.sy1;I.trim().length>0?null==t||0==t.length||I.indexOf(t)>-1?e.sy1=I:e.sy1=t+","+I:0==I.trim().length&&(null==t||0==t.length)&&(e.sy1=null)}let t={...B},n=[...null==t?void 0:t.propertyList];(null==n?void 0:n.length)>0&&(n[F]=e,t.propertyList=n),J(t),setTimeout(()=>{handleAddMore(),(0,b.gb)(!1),q(""),V(void 0),w({}),_("")},150)};return(0,n.jsxs)("div",{children:[(0,n.jsxs)(a(),{children:[(0,n.jsx)("title",{children:"e-Encumbrance Service"}),(0,n.jsx)("link",{rel:"icon",href:"/ecSearch/images/aplogo.png"})]}),(null==O?void 0:O.EMPL_NAME)!=void 0&&(null==O?void 0:O.EMPL_NAME)!=null?(0,n.jsxs)("div",{className:Z().Navbar,children:[(0,n.jsx)("text",{className:Z().NavbarLink,children:(0,n.jsx)(v(),{width:30,height:25,src:"/ecSearch/images/homeIcon.svg",alt:"homeicon",onClick:()=>t.push("https://card2.rs.ap.gov.in/card/"+(null==O?void 0:O.RETURN_PATH))})}),(0,n.jsxs)("text",{className:Z().NavbarText,children:[" Welcome : ",null==O?void 0:O.EMPL_NAME]}),(0,n.jsx)("div",{style:{cursor:"pointer"},onClick:()=>{localStorage.clear(),t.push("https://card2.rs.ap.gov.in/card")},children:(0,n.jsx)("text",{className:Z().NavbarText,children:" Logout "})})]}):(0,n.jsxs)("div",{className:Z().Navbar,children:[(0,n.jsx)("text",{className:Z().NavbarLink,children:(0,n.jsx)(v(),{width:30,height:25,src:"/ecSearch/images/homeIcon.svg",alt:"homeicon",onClick:()=>t.push("https://registration.ec.ap.gov.in/ecSearch")})}),(0,n.jsx)("text",{className:Z().NavbarText,children:"\xa0"}),(0,n.jsx)("text",{className:Z().NavbarText,children:"\xa0"})]}),(0,n.jsx)("div",{className:"MainContent",children:(0,n.jsx)("div",{className:Z().Forms_RegistrationMainDetails,children:Q?(0,n.jsx)(f.default,{propertyDetails:B,fieldValues:z,SROList:H,validationViewItemDetails:ee,setToggleValidationView:$,sourceFrom:"EDetails"}):(0,n.jsx)(c.Z,{children:(0,n.jsxs)(u.Z,{children:[(0,n.jsx)(o.Z,{lg:12,md:12,xs:12,children:(0,n.jsx)("div",{className:Z().Forms_RegistrationInput,children:(0,n.jsxs)(h.Z,{noValidate:!0,autoComplete:"off",validated:T,onSubmit:e=>{var l;let t=e.currentTarget;if((null==z?void 0:z.captchaVal)!=et||!1===t.checkValidity())e.preventDefault(),e.stopPropagation();else{(0,b.gb)(!0),e.preventDefault();let l={...z};l.captchaKey=ei,getPropertyDetailsData(l),(0,b.FS)(z)}(null==z?void 0:z.captchaVal)!=void 0&&(null==z?void 0:null===(l=z.captchaVal)||void 0===l?void 0:l.trim().length)>0&&(null==z?void 0:z.captchaVal)!=et&&(0,b.mF)(!1,"Invalid Captcha",""),E(!0)},children:[(0,n.jsx)("div",{className:"text-start",children:(0,n.jsx)("h2",{className:Z().Forms_mainHeading,children:"e-Encumbrance Service"})}),(0,n.jsxs)(u.Z,{className:"p",children:[(0,n.jsxs)(o.Z,{md:3,children:[(0,n.jsx)(S.Z,{label:"Select Encumbrance Type",required:!0}),(0,n.jsxs)("select",{className:"selectDropdown",required:!0,name:"type",value:null==z?void 0:z.type,onChange:encumbranceSearchOnChange,children:[(0,n.jsx)("option",{value:"",children:"Select"}),(0,n.jsx)("option",{value:"DocNo",children:"Document No"}),(0,n.jsx)("option",{value:"None",children:"None"})]}),(0,n.jsx)(h.Z.Control.Feedback,{type:"invalid",children:"Select Encumbrance Type"})]}),(0,n.jsxs)(o.Z,{md:3,children:[(0,n.jsx)(S.Z,{label:"Enter the ".concat((null==z?void 0:z.type)==="MemoNo"?"Memo":"Doc"," No"),required:!0}),(0,n.jsx)(N.Z,{type:"number",placeholder:"Enter the ".concat((null==z?void 0:z.type)==="MemoNo"?"Memo":"Doc"," No"),required:!0,disabled:!1,isNagative:!0,name:"docMemoNo",value:null==z?void 0:z.docMemoNo,onChange:encumbranceSearchOnChange}),(0,n.jsx)(h.Z.Control.Feedback,{type:"invalid",children:"Enter the ".concat((null==z?void 0:z.type)==="MemoNo"?"Memo":"Doc"," No")})]}),(0,n.jsxs)(o.Z,{md:3,children:[(0,n.jsx)(S.Z,{label:"Year of Registration",required:!0}),(0,n.jsx)(N.Z,{type:"number",maxLength:4,placeholder:"Year of Registration",required:!0,disabled:!1,name:"yearOfRegistration",value:null==z?void 0:z.yearOfRegistration,onChange:encumbranceSearchOnChange}),(0,n.jsx)(h.Z.Control.Feedback,{type:"invalid",children:"Enter Year of Registration"})]}),(0,n.jsxs)(o.Z,{md:3,children:[(0,n.jsx)(S.Z,{label:(null==z?void 0:z.type)==="MemoNo"?"Received From SRO":"Registered at SRO",required:!0}),(0,n.jsx)(m.ZP,{className:(null==z?void 0:z.registeredAtSRO)||!G?"SelectWidget":"SelectWidget red-outline",onMenuOpen:()=>handleMenuOpen(!0),onMenuClose:()=>handleMenuOpen(!1),classNamePrefix:"react-select",options:H,getOptionLabel:e=>e.srname,getOptionValue:e=>e.srcd,name:"registeredAtSRO",onChange:e=>encumbranceSearchOnChange(null==e?void 0:e.srcd,"registeredAtSRO"),placeholder:(null==z?void 0:z.type)==="MemoNo"?"Received From SRO":"Registered at SRO",value:null==H?void 0:H.filter(e=>e.srcd===(null==z?void 0:z.registeredAtSRO))[0]})]})]}),(0,n.jsxs)(u.Z,{style:{marginTop:"1%"},children:[(0,n.jsx)(o.Z,{lg:1,md:1,xs:1,style:{marginTop:"0.8%",paddingRight:"0px"},children:(0,n.jsx)(S.Z,{label:"CAPTCHA :",required:!1})}),(0,n.jsx)(o.Z,{lg:1,md:1,xs:1,style:{textAlign:"center",marginTop:"0.8%",padding:"0px"},children:(0,n.jsx)("span",{style:{font:"inherit",fontFamily:"cursive",padding:"8% 15%",color:"white",backgroundColor:"#03419c"},children:et})}),(0,n.jsx)(o.Z,{lg:1,md:1,xs:1,style:{padding:"0 0 0 1%"},children:(0,n.jsx)(v(),{alt:"Refresh Captcha",style:{marginTop:"10%",cursor:"pointer"},width:25,height:25,src:"/ecSearch/images/reload.png",onClick:getCaptchaCode})}),(0,n.jsxs)(o.Z,{lg:3,md:3,xs:3,children:[(0,n.jsx)(N.Z,{type:"text",maxLength:6,placeholder:"Enter CAPTCHA Here",required:!0,disabled:!1,name:"captchaVal",value:null==z?void 0:z.captchaVal,onChange:encumbranceSearchOnChange}),(0,n.jsx)(h.Z.Control.Feedback,{type:"invalid",children:"Enter CAPTCHA"})]})]}),(0,n.jsxs)("div",{style:{marginTop:"20px",textAlign:"center"},children:[(0,n.jsx)(d.Z,{variant:"primary",type:"submit",children:"Submit"}),(null==O?void 0:O.EMPL_NAME)!=void 0&&(null==O?void 0:O.EMPL_NAME)!=null&&(0,n.jsx)(d.Z,{variant:"secondary",style:{marginLeft:"10px"},onClick:()=>{redirectToPage("/EDashboard")},children:"Back"}),(0,n.jsxs)(d.Z,{variant:"link",onClick:handleTipToggle,children:[(0,n.jsx)(g.H33,{})," \xa0 Useful Tips"]})]})]})})}),(0,n.jsx)(o.Z,{md:12,className:"my-4",children:(0,n.jsxs)(x.Z,{striped:!0,bordered:!0,style:{width:"100%"},className:"tableData",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"SRO"}),(0,n.jsx)("th",{children:"JURISDICTION"}),(0,n.jsx)("th",{children:"SCH NO."}),(0,n.jsx)("th",{children:"VILLAGECODE"}),(0,n.jsx)("th",{children:"CITY/VILLAGE"}),(0,n.jsx)("th",{children:"W-B"}),(0,n.jsx)("th",{children:"COLONY"}),(0,n.jsx)("th",{children:"APARTMENT"}),(0,n.jsx)("th",{children:"FLAT NO"}),(0,n.jsx)("th",{children:"HOUSE NO"}),(0,n.jsx)("th",{children:"SY NO"}),(0,n.jsx)("th",{children:"PLOT NO"}),(0,n.jsx)("th",{})]})}),(0,n.jsx)("tbody",{children:(null==B?void 0:B.propertyList)&&(null==B?void 0:null===(e=B.propertyList)||void 0===e?void 0:e.length)>0?null==B?void 0:null===(l=B.propertyList)||void 0===l?void 0:l.map((e,l)=>{var t,i,a,s,r,c;return(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:null==e?void 0:e.srcode}),(0,n.jsx)("td",{children:null==e?void 0:e.jurisdiction}),(0,n.jsx)("td",{children:null==e?void 0:e.scheduleno}),(0,n.jsx)("td",{children:null==e?void 0:e.villagecode}),(0,n.jsx)("td",{children:null==e?void 0:e.village}),(0,n.jsxs)("td",{children:[null==e?void 0:e.wardno,"-",null==e?void 0:e.blockno]}),(0,n.jsx)("td",{children:null!==(t=null==e?void 0:e.colony)&&void 0!==t?t:"--"}),(0,n.jsx)("td",{children:null!==(i=null==e?void 0:e.apname)&&void 0!==i?i:"--"}),(0,n.jsx)("td",{children:null!==(a=null==e?void 0:e.flatno)&&void 0!==a?a:"--"}),(0,n.jsx)("td",{children:(0,n.jsxs)(u.Z,{children:[(0,n.jsx)(o.Z,{lg:12,md:12,xs:12,children:null!==(s=null==e?void 0:e.hno)&&void 0!==s?s:"--"}),(0,n.jsx)(o.Z,{lg:12,md:12,xs:12,children:(0,n.jsx)(d.Z,{variant:"link",style:{fontSize:"100%",padding:"0px"},onClick:()=>addMoreOnClick("hno",e,l),children:(0,n.jsx)("span",{style:{textDecorationLine:"underline"},children:"Add More"})})})]})}),(0,n.jsx)("td",{children:(0,n.jsxs)(u.Z,{children:[(0,n.jsx)(o.Z,{lg:12,md:12,xs:12,children:null!==(r=null==e?void 0:e.sy1)&&void 0!==r?r:"--"}),(0,n.jsx)(o.Z,{lg:12,md:12,xs:12,children:(0,n.jsx)(d.Z,{variant:"link",style:{fontSize:"100%",padding:"0px"},onClick:()=>addMoreOnClick("sy1",e,l),children:(0,n.jsx)("span",{style:{textDecorationLine:"underline"},children:"Add More"})})})]})}),(0,n.jsx)("td",{children:null!==(c=null==e?void 0:e.pno1)&&void 0!==c?c:"--"}),(0,n.jsx)("td",{style:{width:"90px"},children:(0,n.jsx)(d.Z,{variant:"primary",onClick:()=>{el(e),$(!0)},type:"button",size:"sm",children:"Next"})})]},null==e?void 0:e.scheduleno)}):(0,n.jsx)("tr",{children:(0,n.jsx)("td",{colSpan:13,style:{textAlign:"center"},children:"No records found"})})})]})}),(0,n.jsx)(y.Z,{showModal:R,handleModal:handleTipToggle,modalTitle:"Useful Tips",size:"lg",children:(0,n.jsx)(C.Z,{})}),(0,n.jsxs)(y.Z,{showModal:D,handleModal:handleAddMore,modalTitle:"Add More",children:[(0,n.jsx)(u.Z,{children:(0,n.jsx)(o.Z,{lg:12,md:12,xs:12,children:(0,n.jsx)(N.Z,{type:"text",placeholder:"Enter the ".concat("sy1"===k?"Survey":"House"," No with comma separate"),required:!0,disabled:!1,name:"addMoreValue",value:I,onChange:e=>{let{name:l,value:t}=e.target;q(t)},maxLength:250})})}),(0,n.jsx)(u.Z,{children:(0,n.jsx)(o.Z,{lg:12,md:12,xs:12,children:"\xa0"})}),(0,n.jsx)(u.Z,{children:(0,n.jsx)(o.Z,{lg:12,md:12,xs:12,style:{textAlign:"center"},children:(0,n.jsx)(d.Z,{variant:"primary",className:"mx-3",onClick:()=>updateAddMoreDetails(),children:"Add"})})})]})]})})})})]})}},4207:function(e,l,t){"use strict";var n=t(5893);l.Z=()=>(0,n.jsxs)("ol",{children:[(0,n.jsx)("li",{children:"Document No is Self Explanatory"}),(0,n.jsx)("li",{children:"None option is used to enter the schedule of the property without use of Document No"})]})}},function(e){e.O(0,[885,550,551,465,712,6,774,888,179],function(){return e(e.s=7547)}),_N_E=e.O()}]);